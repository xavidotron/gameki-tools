
\def\SmallMemBox{%
  \SmallMemBoxFormat{\MYname}{\MYtext}}
\def\BigMemBox{%
  \BigMemBoxFormat{\MYname}{\MYtext}}

% For a 1 x 2 5/8 in sticker.
%\newcommand\SmallMemBoxFormat[2]{%
%  \MemBox{#1}{#2}{.8in}{2.425in}{.1in}}
% For a 1 x 2 1/2 in sticker.
\newcommand\SmallMemBoxFormat[2]{%
  \MemBox{#1}{#2}{.8in}{2.3in}{.1in}{2.5in}}

% For a 2 x 4 in sticker.
\newcommand\MedMemBoxFormat[2]{%
  \MemBox{#1}{#2}{1.8in}{3.8in}{.1in}{4in}}

% For a 3.33 x 4 in sticker.
\newcommand\BigMemBoxFormat[2]{%
  \MemBox{#1}{#2}{3.13in}{3.8in}{.1in}{4in}}

\def\memboxafter{\par~}

% \MemBox{trigger}{text}{height}{width}{fboxsep}
\newcommand{\MemBox}[6]{
  \noindent
  \begin{minipage}[b]{#6}
    \par\noindent
    \begin{minipage}[c]{#4}
      \rmfamily #1:
    \end{minipage}
    \par
  \vskip.25\baselineskip
  \fboxsep=#5\relax
  \noindent
  \ifdefined\hidestickerboxes
    \fcolorbox{black}{gray}{\begin{minipage}[c][#3]{#4}%
      \footnotesize
      ~%
  \end{minipage}}%
  \else
    \fbox{\begin{minipage}[c][#3]{#4}%
      \footnotesize
      #2%
  \end{minipage}}%
  \fi
  \memboxafter
  \end{minipage}
}

\DeclareGameSubOption{memboxes}{mems}{

% Use book geometry if booksheets plugin is loaded.
\csname bookgeometry\endcsname

%% \FoldingMempacket[number]{owner}{trigger}{text}
\renewcommand{\FoldingMempacket}[4][]{
  \SmallMemBoxFormat{#3}{#4}%
}
\renewcommand{\EnvelopeMempacket}[4][]{
  \BigMemBoxFormat{#3}{#4}%
}

}
